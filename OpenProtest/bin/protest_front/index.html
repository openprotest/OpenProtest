<!doctype html>
<html lang="en">
<head>
    <title>Protest</title>

    <meta charset="utf-8" />
    <meta name="theme-color" content="#E87600">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Pro-test is a solution for System Administrators and IT professionals. It provides tools to organize your network environment and troubleshoot problems.">

    <link rel="preload" as="image" href="res/database.svgz" importance="high" />
    <link rel="preload" as="image" href="res/gear.svgz"     importance="high" />
    <link rel="preload" as="image" href="res/user.svgz"     importance="high" />
    <link rel="preload" as="image" href="res/toolbox.svgz"  importance="high" />
    <link rel="preload" as="image" href="res/tool01.svgz"   importance="high" />
    <link rel="preload" as="image" href="res/tool02.svgz"   importance="high" />
    <link rel="preload" as="image" href="res/tool03.svgz"   importance="high" />

    
    <link rel="stylesheet" href="root.css" />
    <link rel="stylesheet" href="deskmenu.css" />
    <link rel="stylesheet" href="sidemenu.css" />
    <link rel="stylesheet" href="window.css" />
    <link rel="stylesheet" href="button.css" />
    <link rel="stylesheet" href="textbox.css" />
    <link rel="stylesheet" href="checkbox.css" />
    <link rel="stylesheet" href="range.css" />
    <link rel="stylesheet" href="tip.css" />
    <link rel="stylesheet" href="tools.css" />
    
    <link rel="icon" href="res/icon24.png" />

    <!--
    <link rel="manifest" href="manifest.json"/>
    <script>
        if (navigator.serviceWorker)
            window.addEventListener("load", () => {
                navigator.serviceWorker.register("serviceworker.js").catch((error)=> console.log("sw: " + error));
            });
        else
            console.log("Cannot install service worker.");
    </script>
    -->

</head>
<body>

    <div id="main">
        <div id="cap" style="background-color:#444;"></div>

        <div id="container">
            <div id="deskmenu">

                <div id="mnuEquip">
                    <div>
                        <img class="back" src="res/database.svgz" width="96" height="96" />
                        <img class="front" src="res/gear.svgz" width="67" height="67" />
                    </div>
                    Equipment
                </div>

                <div id="mnuUsers">
                    <div>
                        <img class="back" src="res/database.svgz" width="96" height="96" />
                        <img class="front" src="res/user.svgz" width="67" height="67" />
                    </div>
                    Users
                </div>

                <div id="mnuTools">
                    <div>
                        <img class="back" src="res/toolbox.svgz" width="96" height="96" />
                        <svg class="front" width="96" height="96">
                            <image xlink:href="res/tool01.svgz" width="48" height="48" />
                            <image xlink:href="res/tool02.svgz" width="56" height="56" />
                            <image xlink:href="res/tool03.svgz" width="48" height="48" />
                        </svg>
                    </div>
                    Tools
                </div>

            </div>

            <div id="mainSession" class="floating-elements"><div></div></div>
            <div id="mainSettings" class="floating-elements" style="display:none"><div></div></div>

            <svg id="analog_clock" width="96" height="96">
                <circle cx="48" cy="48" r="44" stroke="#202020" stroke-width="6" fill="rgba(224,224,224,.2)"/>
                <circle cx="48" cy="48" r="4" fill="#202020"/>
                <line id="analog_clock_h" x1="48" y1="48" x2="48" y2="24" stroke-width="5"/>
                <line id="analog_clock_m" x1="48" y1="48" x2="48" y2="16" stroke-width="3"/>
            </svg>

            <svg id="date_calendar" width="96" height="96">
                <defs>
                    <mask id="date_month_mask">
                        <rect width="100%" height="100%" fill="#fff"/>
                        <text id="date_month" x="50%" y="18px" font-size="18" font-weight="bold" fill="#000" text-anchor="middle"></text>
                    </mask>
                </defs>
                <rect x="2" y="2" width="92" height="92" fill="rgba(224,224,224,.2)"/>
                <path mask="url(#date_month_mask)" fill="#202020" d="M93.5,0h-91C1.119,0,0,1.119,0,2.5v91C0,94.881,1.119,96,2.5,96h91c1.381,0,2.5-1.119,2.5-2.5v-91 C96,1.119,94.881,0,93.5,0z M91,88.5c0,1.381-1.117,2.5-2.495,2.5H7.495C6.117,91,5,89.881,5,88.5v-61C5,26.119,6.117,25,7.495,25 h81.01C89.883,25,91,26.119,91,27.5V88.5z"/>
                <text id="date_date" x="50%" y="64px" font-size="40" font-weight="bold" fill="#202020" text-anchor="middle">00</text>
                <text id="date_day" x="50%" y="80px" font-size="15" fill="#202020" text-anchor="middle"></text>
            </svg>
        </div>

        <div id="btnSidemenu">
            <div id="imgSearch"></div>
        </div>

        <div id="sidemenu">
            <div id="searchbox">
                <input id="txtSearch" type="text" autocomplete="off" autocorrect="off" style="visibility: hidden;" />
                <div id="btnCloseSidemenu"></div>
            </div>
            <div id="lstSideMenu" class="no-results"></div>
        </div>
    </div>

    <div id="bottombar"></div>

    <noscript>
        <div style="position:sticky; text-align:center; background-color:rgb(32,32,32); padding:16px; color:white;">
            Javascript is either disabled or not supported by your browser.
        </div>
    </noscript>

    <script src="ui.js"></script>
    <script src="deskmenu.js"></script>
    <script src="sidemenu.js"></script>
    <script src="window.js"></script>
    <script src="loader.js"></script>
    <script src="publictransportation.js"></script>
    <script src="notifications.js"></script>
    <script src="ctr_ipbox.js"></script>
    <script src="ctr_calendar.js"></script>
    <script src="console.js"></script>
    

    <script async defer src="equip.js"></script>
    <script async defer src="user.js"></script>
    <script async defer src="equiplist.js"></script>
    <script async defer src="userlist.js"></script>
    <script async defer src="fetch.js"></script>
    <script async defer src="dbquery.js"></script>
    <script async defer src="wmi.js"></script>
    <script async defer src="ping.js"></script>
    <script async defer src="portscan.js"></script>
    <script async defer src="traceroute.js"></script>
    <script async defer src="dnslookup.js"></script>
    <script async defer src="maclookup.js"></script>
    <script async defer src="locateip.js"></script>
    <script async defer src="netcalc.js"></script>
    <script async defer src="passgen.js"></script>
    <script async defer src="passwordstrength.js"></script>
    <script async defer src="mappeddrives.js"></script>
    <script async defer src="debitnotes.js"></script>
    <script async defer src="webcheck.js"></script>
    <script async defer src="tasks.js"></script>
    <!--<script async defer src="speedtest.js"></script>-->
    <script async defer src="clients.js"></script>

    <script>
        let divWakeup = document.getElementById("cap");
        setTimeout(()=>{
            divWakeup.style.backgroundColor = "transparent";
            divWakeup.style.visibility = "hidden";
        }, .150);

        document.addEventListener("DOMContentLoaded", () => {
            if (localStorage.getItem("wallpaper") != null) SetWallpaper(localStorage.getItem("wallpaper"));
            w_always_maxxed = (localStorage.getItem("w_always_maxed") == "true");

            Promise.all([CheckEquipmentVersion(), CheckUsersVersion()]).then(() => {
                //TODO: display previously opened windows
            });

            initPublicTransportation();
        });
    </script>

</body>
</html>